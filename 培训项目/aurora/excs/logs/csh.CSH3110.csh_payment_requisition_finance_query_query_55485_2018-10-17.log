2018-10-17 01:48:55.588 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-17 01:48:55.588 [aurora.application.session_check] [CONFIG] Checking BM access csh.CSH3110.csh_payment_requisition_finance_query for operation query
2018-10-17 01:48:55.592 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker@a740192 is true
2018-10-17 01:48:55.592 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-17 01:48:55.594 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-17 01:48:55.594 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-17 01:48:55.594 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-17 01:48:55.594 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-17 01:48:55.594 [aurora.database] [CONFIG] ===================================== prepare to run model-query csh.CSH3110.csh_payment_requisition_finance_query==============================
2018-10-17 01:48:55.613 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-17 01:48:55.613 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-17 01:48:55.613 [uncertain.proc] [CONFIG] [action] CreatequeryStatement
2018-10-17 01:48:55.613 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onCreateQueryStatement
2018-10-17 01:48:55.617 [uncertain.proc] [CONFIG] [action] PopulatequeryStatement
2018-10-17 01:48:55.617 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateQueryStatement
2018-10-17 01:48:55.617 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateQueryStatement
2018-10-17 01:48:55.617 [uncertain.proc] [CONFIG] [action] CreatequerySql
2018-10-17 01:48:55.617 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onCreateQuerySql
2018-10-17 01:48:55.617 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-17 01:48:55.617 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-17 01:48:57.993 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-17 01:48:57.993 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-17 01:48:58.38 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-17 01:48:58.38 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-17 01:48:58.40 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============
SELECT cprh.PAYMENT_REQUISITION_HEADER_ID,cprh.COMPANY_ID,cprh.OPERATION_UNIT_ID,cprh.EMPLOYEE_ID,cprh.REQUISITION_NUMBER,cprh.PAYMENT_REQ_TYPE_ID,cprh.TRANSACTION_CATEGORY,cprh.DISTRIBUTION_SET_ID,cprh.PAYMENT_METHOD_ID,cprh.PARTNER_CATEGORY,cprh.PARTNER_ID,cprh.AMOUNT,cprh.CURRENCY_CODE,cprh.REQUISITION_PAYMENT_DATE,cprh.DESCRIPTION,cprh.STATUS,cprh.APPROVAL_DATE,cprh.APPROVED_BY,cprh.CLOSED_DATE,cprh.UNIT_ID,cprh.POSITION_ID,cprh.SOURCE_TYPE,cprh.AUDIT_FLAG,cprh.REVERSED_FLAG,cprh.SOURCE_PMT_REQ_HEADER_ID,cprh.JE_CREATION_STATUS,cprh.AUDIT_DATE,(select ee.name || '-' || ee.employee_code from exp_employees ee where ee.employee_id = cprh.employee_id) AS requisitor,to_char(cprh.requisition_date, 'YYYY-MM-DD') AS requisition_date,(select b.code_value_name from sys_codes_vl a, sys_code_values_vl b where a.code_id = b.code_id and a.code = 'PAYMENT_OBJECT' and b.code_value = cprh.partner_category) AS p_partner_category,decode(cprh.partner_category, 'EMPLOYEE', (select ee.employee_code || '-' || ee.name from exp_employees ee where ee.employee_id = cprh.partner_id), 'VENDER', (select svv.vender_code || '-' || svv.description from pur_system_venders_vl svv where svv.vender_id = cprh.partner_id), 'CUSTOMER', (select scv.customer_code || '-' || scv.description from ord_system_customers_vl scv  where scv.customer_id = cprh.partner_id)) AS payee_name,( select nvl(sum(ef.amount),0) from csh_payment_requisition_refs ef,  csh_transaction_v ct, csh_payment_requisition_lns  cprl  where ef.payment_requisition_line_id = cprl.payment_requisition_line_id and ef.csh_transaction_line_id = ct.transaction_line_id and ct.posted_flag = 'Y' and cprl.payment_requisition_header_id = cprh.payment_requisition_header_id) AS paymented_amount,(select v.code_value_name  from sys_code_values_vl v, sys_codes_vl t where t.code = 'PAYMENT_REQUISITION_STATUS' and t.code_id = v.code_id and v.code_value = cprh.status) AS status_des,(select cprtv.description from csh_pay_req_types_vl cprtv where cprtv.type_id=cprh.payment_req_type_id) AS document_type,(select t.report_name from csh_pay_req_types t where t.type_id = cprh.payment_req_type_id) AS report_name,(select sr.param_name from csh_pay_req_types cprt,sys_reports sr where cprt.report_name = sr.report_name AND cprt.type_id = cprh.payment_req_type_id AND rownum =1) AS report_param_name,((select nvl(sum(cwo.csh_write_off_amount), 0) from csh_write_off cwo, csh_transaction_headers   f,           csh_transaction_lines  t     where nvl(CWO.gld_interface_flag,'N') ='P'            and cwo.write_off_type = 'PREPAYMENT_EXPENSE_REPORT'            and cwo.csh_transaction_line_id = t.transaction_line_id              and f.transaction_header_id=t.transaction_header_id              and f.source_payment_header_id in            (select vf.transaction_header_id       from csh_payment_requisition_refs cpr,           csh_transaction_headers     vf,           csh_transaction_lines  tf ,           csh_payment_requisition_lns  lns,           csh_payment_requisition_hds  hds             where cpr.csh_transaction_line_id = tf.transaction_line_id       and vf.transaction_header_id=tf.transaction_header_id       and cpr.payment_requisition_line_id =           lns.payment_requisition_line_id       and lns.payment_requisition_header_id =           hds.payment_requisition_header_id         and hds.payment_requisition_header_id =              cprh.payment_requisition_header_id)) -         (select nvl(sum(cwo.csh_write_off_amount), 0)    from csh_write_off           cwo,               csh_transaction_headers f,               csh_transaction_lines   t,               csh_transaction_headers f1         where nvl(CWO.gld_interface_flag, 'N') = 'P'           and cwo.write_off_type = 'PAYMENT_PREPAYMENT'           and cwo.source_csh_trx_line_id = t.transaction_line_id           and f.transaction_header_id = t.transaction_header_id           and f.source_payment_header_id = f1.transaction_header_id           and f1.returned_flag = 'R'            and cwo.csh_transaction_line_id in            (select tf.transaction_line_id      from csh_payment_requisition_refs cpr,  csh_transaction_headers     vf,           csh_transaction_lines  tf ,           csh_payment_requisition_lns  lns,           csh_payment_requisition_hds  hds             where cpr.csh_transaction_line_id = tf.transaction_line_id                     and cpr.payment_requisition_line_id =                      lns.payment_requisition_line_id                  and vf.transaction_header_id=tf.transaction_header_id       and lns.payment_requisition_header_id =           hds.payment_requisition_header_id         and hds.payment_requisition_header_id =              cprh.payment_requisition_header_id))) AS write_off_amount,( select nvl(sum(ef.amount),0) from csh_payment_requisition_refs ef,  csh_transaction_v ct, csh_payment_requisition_lns  cprl  where ef.payment_requisition_line_id = cprl.payment_requisition_line_id and ef.csh_transaction_line_id = ct.transaction_line_id and ct.posted_flag = 'Y' and cprl.payment_requisition_header_id = cprh.payment_requisition_header_id)-((select nvl(sum(cwo.csh_write_off_amount), 0) from csh_write_off cwo, csh_transaction_headers   f,           csh_transaction_lines  t     where nvl(CWO.gld_interface_flag,'N') ='P'            and cwo.write_off_type = 'PREPAYMENT_EXPENSE_REPORT'            and cwo.csh_transaction_line_id = t.transaction_line_id              and f.transaction_header_id=t.transaction_header_id              and f.source_payment_header_id in            (select vf.transaction_header_id       from csh_payment_requisition_refs cpr,           csh_transaction_headers     vf,           csh_transaction_lines  tf ,           csh_payment_requisition_lns  lns,           csh_payment_requisition_hds  hds             where cpr.csh_transaction_line_id = tf.transaction_line_id       and vf.transaction_header_id=tf.transaction_header_id       and cpr.payment_requisition_line_id =           lns.payment_requisition_line_id       and lns.payment_requisition_header_id =           hds.payment_requisition_header_id         and hds.payment_requisition_header_id =              cprh.payment_requisition_header_id)) -         (select nvl(sum(cwo.csh_write_off_amount), 0)    from csh_write_off           cwo,               csh_transaction_headers f,               csh_transaction_lines   t,               csh_transaction_headers f1         where nvl(CWO.gld_interface_flag, 'N') = 'P'           and cwo.write_off_type = 'PAYMENT_PREPAYMENT'           and cwo.source_csh_trx_line_id = t.transaction_line_id           and f.transaction_header_id = t.transaction_header_id           and f.source_payment_header_id = f1.transaction_header_id           and f1.returned_flag = 'R'            and cwo.csh_transaction_line_id in            (select tf.transaction_line_id      from csh_payment_requisition_refs cpr,  csh_transaction_headers     vf,           csh_transaction_lines  tf ,           csh_payment_requisition_lns  lns,           csh_payment_requisition_hds  hds             where cpr.csh_transaction_line_id = tf.transaction_line_id                     and cpr.payment_requisition_line_id =                      lns.payment_requisition_line_id                  and vf.transaction_header_id=tf.transaction_header_id       and lns.payment_requisition_header_id =           hds.payment_requisition_header_id         and hds.payment_requisition_header_id =              cprh.payment_requisition_header_id))) AS unwrite_off_amount,gld.CURRENCY_NAME
FROM CSH_PAYMENT_REQUISITION_HDS cprh
	LEFT OUTER JOIN GLD_CURRENCY_VL gld ON cprh.CURRENCY_CODE = gld.CURRENCY_CODE
WHERE cprh.company_id = ?
ORDER BY requisition_number desc
---------------------Binding info---------------------
No.1	Access path:/session/@company_id	Data type of passed value :java.lang.Integer	Value:835	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-17 01:48:58.40 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse

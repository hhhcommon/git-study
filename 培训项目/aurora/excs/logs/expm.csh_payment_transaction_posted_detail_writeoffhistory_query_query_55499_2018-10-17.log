2018-10-17 09:36:56.367 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-17 09:36:56.367 [aurora.application.session_check] [CONFIG] Checking BM access expm.csh_payment_transaction_posted_detail_writeoffhistory_query for operation query
2018-10-17 09:36:56.368 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker$ConstantChecker@442252e5 is true
2018-10-17 09:36:56.368 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-17 09:36:56.374 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-17 09:36:56.374 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-17 09:36:56.374 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-17 09:36:56.374 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-17 09:36:56.374 [aurora.database] [CONFIG] ===================================== prepare to run model-query expm.csh_payment_transaction_posted_detail_writeoffhistory_query==============================
2018-10-17 09:36:56.378 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-17 09:36:56.378 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-17 09:36:56.378 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-17 09:36:56.378 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-17 09:36:56.378 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-17 09:36:56.378 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-17 09:36:56.378 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-17 09:36:56.378 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-17 09:36:56.433 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-17 09:36:56.433 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-17 09:36:56.447 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-17 09:36:56.447 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-17 09:36:56.447 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

            select t.*,
            (SELECT DISTINCT m.requisition_number
          FROM csh_payment_requisition_hds m
         WHERE m.payment_requisition_header_id =
               (SELECT n.payment_requisition_header_id
                  FROM csh_payment_requisition_lns n
                 WHERE n.payment_requisition_line_id =
                       (SELECT a.payment_requisition_line_id
                          FROM csh_payment_requisition_refs a
                         WHERE a.csh_transaction_line_id =
                               (SELECT b.transaction_line_id
                                  FROM csh_transaction_lines b
                                 WHERE b.transaction_header_id =
                                       (SELECT c.source_payment_header_id
                                          FROM CSH_TRANSACTION_HEADERS c
                                         WHERE c.transaction_header_id =
                                               (SELECT d.transaction_header_id
                                                  FROM csh_transaction_lines d
                                                 WHERE d.transaction_line_id =
                                                       t.transaction_line_id)))
                           AND rownum = 1))) doc_number,
       (select cprtv.description
          from csh_pay_req_types_vl cprtv
         where cprtv.type_id =
               (SELECT DISTINCT m.payment_req_type_id
                  FROM csh_payment_requisition_hds m
                 WHERE m.payment_requisition_header_id =
                       (SELECT n.payment_requisition_header_id
                          FROM csh_payment_requisition_lns n
                         WHERE n.payment_requisition_line_id =
                               (SELECT a.payment_requisition_line_id
                                  FROM csh_payment_requisition_refs a
                                 WHERE a.csh_transaction_line_id =
                                       (SELECT b.transaction_line_id
                                          FROM csh_transaction_lines b
                                         WHERE b.transaction_header_id =
                                               (SELECT c.source_payment_header_id
                                                  FROM CSH_TRANSACTION_HEADERS c
                                                 WHERE c.transaction_header_id =
                                                       (SELECT d.transaction_header_id
                                                          FROM csh_transaction_lines d
                                                         WHERE d.transaction_line_id =
                                                               t.transaction_line_id)))
                                   AND rownum = 1)))) type_description,
       (SELECT DISTINCT t.PAYMENT_REQUISITION_HEADER_ID
          FROM csh_payment_requisition_hds t
         WHERE t.payment_requisition_header_id =
               (SELECT l.payment_requisition_header_id
                  FROM csh_payment_requisition_lns l
                 WHERE l.payment_requisition_line_id =
                       (SELECT a.payment_requisition_line_id
                          FROM csh_payment_requisition_refs a
                         WHERE a.csh_transaction_line_id =
                               (SELECT b.transaction_line_id
                                  FROM csh_transaction_lines b
                                 WHERE b.transaction_header_id =
                                       (SELECT c.source_payment_header_id
                                          FROM CSH_TRANSACTION_HEADERS c
                                         WHERE c.transaction_header_id =
                                               (SELECT d.transaction_header_id
                                                  FROM csh_transaction_lines d
                                                 WHERE d.transaction_line_id =
                                                       t.transaction_line_id)))
                           AND rownum = 1))) doc_header_id
            from
            (select to_char(cwo.write_off_date,'yyyy-mm-dd') write_off_date,
             BGT_COMMON_PKG.GET_BGT_PERIOD_NAME(?,
                                                CWO.WRITE_OFF_DATE) period_name,
             (SELECT B.CODE_VALUE_NAME
                FROM SYS_CODES_VL A, SYS_CODE_VALUES_VL B
               WHERE A.CODE_ID = B.CODE_ID
                 AND A.CODE = 'CSH_WRITE_OFF_TYPE'
                 AND B.CODE_VALUE = CWO.WRITE_OFF_TYPE) WRITE_OFF_TYPE,
             s.exp_report_number,
             cwo.csh_write_off_amount,
             cwo.write_off_id,
             (select h.transaction_num from csh_transaction_headers h
,csh_transaction_lines ls
where h.transaction_header_id=ls.transaction_header_id
and ls.transaction_line_id=cwo.csh_transaction_line_id)  TRANSACTION_NUMï¼Œ
(select ls.transaction_line_id from csh_transaction_headers h
,csh_transaction_lines ls
where h.transaction_header_id=ls.transaction_header_id
and ls.transaction_line_id=cwo.csh_transaction_line_id)  TRANSACTION_LINE_ID
        from CSH_WRITE_OFF            CWO,
             exp_report_pmt_schedules es,
             exp_report_headers       s
       where cwo.document_line_id = es.payment_schedule_line_id
         and cwo.document_header_id = es.exp_report_header_id
         and cwo.document_source = 'EXPENSE_REPORT'
         and cwo.write_off_type = 'PREPAYMENT_EXPENSE_REPORT'
         and es.exp_report_header_id = s.exp_report_header_id
         and es.payment_schedule_line_id =?)t
---------------------Binding info---------------------
No.1	Access path:/session/@company_id	Data type of passed value :java.lang.String	Value:835	Output:false	Database Type:null	
No.2	Access path:@payment_schedule_line_id	Data type of passed value :java.lang.String	Value:2032	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-17 09:36:56.447 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse

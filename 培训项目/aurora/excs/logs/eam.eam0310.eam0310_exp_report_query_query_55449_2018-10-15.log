2018-10-15 08:42:35.739 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-15 08:42:35.739 [aurora.application.session_check] [CONFIG] Checking BM access eam.eam0310.eam0310_exp_report_query for operation query
2018-10-15 08:42:35.740 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker@4b267767 is true
2018-10-15 08:42:35.740 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-15 08:42:35.741 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-15 08:42:35.741 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-15 08:42:35.742 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-15 08:42:35.742 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-15 08:42:35.742 [aurora.database] [CONFIG] ===================================== prepare to run model-query eam.eam0310.eam0310_exp_report_query==============================
2018-10-15 08:42:35.745 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-15 08:42:35.746 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-15 08:42:35.746 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-15 08:42:35.746 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-15 08:42:35.746 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-15 08:42:35.746 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-15 08:42:35.746 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-15 08:42:35.746 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-15 08:42:35.976 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-15 08:42:35.977 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-15 08:42:36.200 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-15 08:42:36.200 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-15 08:42:36.200 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

                SELECT
                    *
                FROM
                    (SELECT
                        v.*,
                        (v.report_amount - v.release_amount) remain_amount,
                        (v.primary_quantity - v.release_quantity) remain_quantity
                    FROM
                        (SELECT
                            h.exp_report_header_id,
                            h.exp_report_number,
                            h.report_date,
                            l.line_number,
                            t.description exp_report_type_name,
                            l.company_id,
                            (SELECT
                                c.company_short_name
                            FROM
                                fnd_companies_vl c
                            WHERE
                                c.company_id = l.company_id
                            ) company_name,
                            l.unit_id,
                            (SELECT u.description FROM exp_org_unit_vl u WHERE u.unit_id = l.unit_id
                            ) unit_name,
                            l.expense_item_id,
                            (SELECT
                                eeit.description
                            FROM
                                exp_expense_items_vl eeit
                            WHERE
                                eeit.expense_item_id = l.expense_item_id
                            ) expense_item_name,
                            l.exp_report_line_id,
                            l.description req_line_desc,
                            l.primary_quantity,
                            l.price,
                            (SELECT
                                NVL(SUM(er.release_quantity), 0)
                            FROM
                                eam_document_req_releases er
                            WHERE
                                er.source_document_line_id  = l.exp_report_line_id AND
                                er.source_document_category = 'EXP_RPT'
                            ) release_quantity,
                            l.report_amount,
                            (SELECT
                                TRUNC(NVL(SUM(er.release_amount), 0), 2)
                            FROM
                                eam_document_req_releases er,
                                eam_requisition_headers erh
                            WHERE
                                er.source_document_line_id  = l.exp_report_line_id AND
                                erh.requisition_header_id   = er.requisition_header_id AND
                                erh.requisition_status NOT IN ('GENERATE', 'TAKEN_BACK', 'REJECTED') AND
                                er.source_document_category = 'EXP_RPT'
                            ) release_amount
                        FROM
                            exp_report_headers h,
                            exp_report_lines l,
                            exp_sob_report_types st,
                            exp_expense_report_types_vl t,
                            eam_requisition_types et,
                            eam_req_type_source_doc_type ertt
                        WHERE
                            h.exp_report_header_id       = l.exp_report_header_id AND
                            h.exp_report_type_id         = t.expense_report_type_id AND
                            t.expense_report_type_code   = st.expense_report_type_code AND
                            ertt.document_category       = 'EXP_RPT' AND
                            ertt.ast_requisition_type_id = et.ast_requisition_type_id AND
                            st.expense_report_type_id    = ertt.document_type_id AND
                            h.report_status              = 'COMPLETELY_APPROVED' AND
                            ertt.ast_requisition_type_id = ? AND
                            EXISTS
                            (SELECT
                                1
                            FROM
                                eam_asset_companies_vl eacv
                            WHERE
                                eacv.parent_company_id = ? AND
                                l.company_id           = eacv.company_id
                            )
                        ) v
                    WHERE
                        v.report_amount - v.release_amount>0
                    ) 
            
---------------------Binding info---------------------
No.1	Access path:@ast_requisition_type_id	Data type of passed value :java.lang.String	Value:61	Output:false	Database Type:null	
No.2	Access path:@company_id	Data type of passed value :java.lang.String	Value:835	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-15 08:42:36.200 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse

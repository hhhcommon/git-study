2018-10-15 03:35:00.723 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-15 03:35:00.723 [aurora.application.session_check] [CONFIG] Access check result for modules/expm/public/exp_requisition_create_control.svc => success
2018-10-15 03:35:00.723 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-15 03:35:00.727 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-15 03:35:00.727 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-15 03:35:00.727 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-15 03:35:00.727 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-15 03:35:00.727 [aurora.database] [INFO] [batch-apply] Data from '/parameter/obj_details' is null
2018-10-15 03:35:00.730 [uncertain.proc] [CONFIG] [action] DecideStatement
2018-10-15 03:35:00.731 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-15 03:35:00.731 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-15 03:35:00.731 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-15 03:35:00.731 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-15 03:35:00.731 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.731 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.731 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2018-10-15 03:35:00.731 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2018-10-15 03:35:00.731 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2018-10-15 03:35:00.731 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2018-10-15 03:35:00.739 [aurora.database] [CONFIG] 
============= BEGIN [Insert] SQL Statement execution dump ============

            begin
				exp_requisition_pkg.insert_exp_requisition_headers
				(
		           ?,
		           ?,
		           null,
		           ?,
		           ?,
		           ?,
		           ?,       
				   ?,
				   ?,
				   ?,
				   nvl(?, 1),  
				   to_date(?,'yyyy-mm-dd'),
				   ?,
				   'GENERATE',		   
				   ?,
				   ?,
				   ?,
				   ?,
				   null,
				   ?,
				   ?,
				   ?
				);
			end;
			
---------------------Binding info---------------------
No.1	Access path:@head_id	Data type of passed value :java.lang.String	Value:1984	Output:false	Database Type:null	
No.2	Access path:/session/@company_id	Data type of passed value :java.lang.String	Value:2240	Output:false	Database Type:null	
No.3	Access path:@employee_id	Data type of passed value :java.lang.String	Value:910	Output:false	Database Type:null	
No.4	Access path:@payee_category	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.5	Access path:@payee_id	Data type of passed value :java.lang.String	Value:910	Output:false	Database Type:null	
No.6	Access path:@exp_requisition_type_id	Data type of passed value :java.lang.String	Value:5	Output:false	Database Type:null	
No.7	Access path:@currency_code	Data type of passed value :java.lang.String	Value:CNY	Output:false	Database Type:null	
No.8	Access path:@exchange_rate_type	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.9	Access path:@exchange_rate_quotation	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.10	Access path:@exchange_rate	Data type of passed value :java.lang.Integer	Value:1	Output:false	Database Type:null	
No.11	Access path:@requisition_date	Data type of passed value :java.lang.String	Value:2018-10-15	Output:false	Database Type:null	
No.12	Access path:@period_name	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.13	Access path:@description	Data type of passed value :java.lang.String	Value:123	Output:false	Database Type:null	
No.14	Access path:/session/@user_id	Data type of passed value :java.lang.Long	Value:891	Output:false	Database Type:null	
No.15	Access path:@position_id	Data type of passed value :java.lang.Integer	Value:438	Output:false	Database Type:null	
No.16	Access path:@attachment	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.17	Access path:@oa_sign_flag	Data type of passed value :java.lang.String	Value:N	Output:false	Database Type:null	
No.18	Access path:@oa_sign_note	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.19	Access path:@overseas_flag	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	

=============== END [Insert] SQL Statement execution dump ============

2018-10-15 03:35:00.739 [aurora.database] [CONFIG] Running batch-apply with data from path /parameter/details, total 1 records
2018-10-15 03:35:00.739 [aurora.database] [CONFIG] Executing batch-apply on parameter No.0
2018-10-15 03:35:00.742 [uncertain.proc] [CONFIG] [action] DecideStatement
2018-10-15 03:35:00.743 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-15 03:35:00.743 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-15 03:35:00.743 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-15 03:35:00.743 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-15 03:35:00.743 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.743 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.743 [uncertain.proc] [CONFIG] [action] CreateSqlRunner
2018-10-15 03:35:00.743 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onCreateSqlRunner
2018-10-15 03:35:00.743 [uncertain.proc] [CONFIG] [action] ExecuteDmlStatement
2018-10-15 03:35:00.743 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onExecuteDmlStatement
2018-10-15 03:35:00.757 [aurora.database] [CONFIG] 
============= BEGIN [Update] SQL Statement execution dump ============

            begin
				 exp_requisition_pkg.insert_exp_requisition_lines(p_exp_requisition_header_id => ?,
                                                   p_line_number => ?,
                                                   p_city => ?,
                                                   p_description => ?,
                                                   p_date_from => to_date(?,'yyyy-mm-dd'),
                                                   p_date_to => to_date(?,'yyyy-mm-dd'),
                                                   p_period_name => ?,
                                                   p_currency_code => ?,
                                                   p_exchange_rate_type => ?,
                                                   p_exchange_rate_quotation => ?,
                                                   p_exchange_rate => ?,
                                                   p_expense_type_id => ?,
                                                   p_exp_req_item_id => ?,
                                                   p_price => ?,
                                                   p_primary_quantity => ?,
                                                   p_primary_uom => null,
                                                   p_secondary_quantity => null,
                                                   p_secondary_uom => null,
                                                   p_requisition_amount => ?,
                                                   p_req_functional_amount => ?,
                                                   p_distribution_set_id => null,
                                                   p_company_id => ?,
                                                   p_unit_id => ?,
                                                   p_position_id => ?,
                                                   p_responsibility_center_id => ?,
                                                   p_employee_id => ?,
                                                   p_payee_category => ?,
                                                   p_payee_id => ?,
                                                   p_partner_id => null,
                                                   p_payment_flag => ?,
                                                   p_requisition_status => 'GENERATE',
                                                   p_audit_flag => 'N',
                                                   p_attachment_num => null,
                                                   p_dimension1_id => ?,
                                                   p_dimension2_id => ?,
                                                   p_dimension3_id => ?,
                                                   p_dimension4_id => ?,
                                                   p_dimension5_id => ?,
                                                   p_dimension6_id => ?,
                                                   p_dimension7_id => ?,
                                                   p_dimension8_id => ?,
                                                   p_dimension9_id => ?,
                                                   p_dimension10_id => ?,
                                                   p_user_id => ?,
                                                   p_exp_requisition_line_id => ?,
                                                   p_place_type_id => ?,
                                                   p_place_id => ?,
                                                   p_exp_req_travel_line_id => ?,
                                                   p_transportation => ?,
                                                   p_place_to_id => ?);
			end;
---------------------Binding info---------------------
No.1	Access path:@head_id	Data type of passed value :java.lang.String	Value:1984	Output:false	Database Type:null	
No.2	Access path:@line_number	Data type of passed value :java.lang.Integer	Value:10	Output:false	Database Type:null	
No.3	Access path:@city	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.4	Access path:@description	Data type of passed value :java.lang.String	Value:12	Output:false	Database Type:null	
No.5	Access path:@date_from	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.6	Access path:@date_to	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.7	Access path:@period_num	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.8	Access path:@currency_code	Data type of passed value :java.lang.String	Value:CNY	Output:false	Database Type:null	
No.9	Access path:@exchange_rate_type	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.10	Access path:@exchange_rate_quotation	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.11	Access path:@exchange_rate	Data type of passed value :java.lang.Integer	Value:1	Output:false	Database Type:null	
No.12	Access path:@expense_type_id	Data type of passed value :java.lang.Integer	Value:18938	Output:false	Database Type:null	
No.13	Access path:@exp_req_item_id	Data type of passed value :java.lang.Integer	Value:119	Output:false	Database Type:null	
No.14	Access path:@price	Data type of passed value :java.lang.Integer	Value:1	Output:false	Database Type:null	
No.15	Access path:@primary_quantity	Data type of passed value :java.lang.Integer	Value:1	Output:false	Database Type:null	
No.16	Access path:@requisition_amount	Data type of passed value :java.lang.String	Value:1.00000	Output:false	Database Type:null	
No.17	Access path:@requisition_functional_amount	Data type of passed value :java.lang.String	Value:1.00	Output:false	Database Type:null	
No.18	Access path:@company_id	Data type of passed value :java.lang.Integer	Value:2240	Output:false	Database Type:null	
No.19	Access path:@unit_id	Data type of passed value :java.lang.Integer	Value:108	Output:false	Database Type:null	
No.20	Access path:@position_id	Data type of passed value :java.lang.Integer	Value:438	Output:false	Database Type:null	
No.21	Access path:@responsibility_center_id	Data type of passed value :java.lang.Integer	Value:7528	Output:false	Database Type:null	
No.22	Access path:@employee_id	Data type of passed value :java.lang.String	Value:910	Output:false	Database Type:null	
No.23	Access path:@payee_category	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.24	Access path:@payee_id	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.25	Access path:@payment_flag	Data type of passed value :java.lang.String	Value:Y	Output:false	Database Type:null	
No.26	Access path:@e1	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.27	Access path:@e2	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.28	Access path:@e3	Data type of passed value :java.lang.String	Value:2.0	Output:false	Database Type:null	
No.29	Access path:@e4	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.30	Access path:@e5	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.31	Access path:@e6	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.32	Access path:@e7	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.33	Access path:@e8	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.34	Access path:@e9	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.35	Access path:@e10	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.36	Access path:/session/@user_id	Data type of passed value :java.lang.Long	Value:891	Output:false	Database Type:null	
No.37	Access path:@line_id	Data type of passed value :[null]	Value:null	Output:true	Database Type:null	
No.38	Access path:@place_type_id	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.39	Access path:@place_id	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.40	Access path:@exp_req_travel_line_id	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.41	Access path:@transportation	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	
No.42	Access path:@place_to_id	Data type of passed value :[null]	Value:null	Output:false	Database Type:null	

=============== END [Update] SQL Statement execution dump ============

2018-10-15 03:35:00.757 [uncertain.proc] [CONFIG] [action] HandleException
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-15 03:35:00.762 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-15 03:35:00.762 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

                select message,message_code from sys_raise_app_errors where app_error_line_id = ?
            
---------------------Binding info---------------------
No.1	Access path:@lineId	Data type of passed value :java.lang.Integer	Value:23251	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-15 03:35:00.762 [uncertain.proc] [CONFIG] [action] CreateFailResponse
2018-10-15 03:35:00.763 [aurora.application] [SEVERE] java.sql.SQLException: ORA-20000: 23251
ORA-06512: 在 "CCBLHEC.EXP_REQUISITION_PKG", line 1376
ORA-06512: 在 line 3

	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:450)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:399)
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1059)
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:522)
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:257)
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:587)
	at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:220)
	at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:48)
	at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:938)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1150)
	at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:4798)
	at oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4875)
	at oracle.jdbc.driver.OracleCallableStatement.executeUpdate(OracleCallableStatement.java:5661)
	at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:1361)
	at com.mchange.v2.c3p0.impl.NewProxyCallableStatement.executeUpdate(NewProxyCallableStatement.java:2160)
	at aurora.database.SqlRunner.updateInternal(SqlRunner.java:274)
	at aurora.database.SqlRunner.update(SqlRunner.java:299)
	at aurora.database.SqlRunner.update(SqlRunner.java:314)
	at aurora.database.service.BusinessModelService.onExecuteDmlStatement(BusinessModelService.java:347)
	at sun.reflect.GeneratedMethodAccessor1034.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:92)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:49)
	at uncertain.event.Configuration.fireEventInternal(Configuration.java:450)
	at uncertain.event.Configuration.fireEvent(Configuration.java:388)
	at uncertain.proc.ProcedureRunner.fireEvent(ProcedureRunner.java:352)
	at uncertain.proc.Action.run(Action.java:171)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.database.service.BusinessModelService.runProcedure(BusinessModelService.java:244)
	at aurora.database.service.BusinessModelService.executeDml(BusinessModelService.java:260)
	at aurora.database.service.BusinessModelService.updateByPK(BusinessModelService.java:264)
	at aurora.database.actions.ModelUpdate.run(ModelUpdate.java:21)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at aurora.database.actions.BatchApply.run(BatchApply.java:53)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.application.features.AbstractProcedureInvoker.runProcedure(AbstractProcedureInvoker.java:41)
	at aurora.application.features.InitProcedureInvoker.doInvoke(InitProcedureInvoker.java:34)
	at aurora.application.features.InitProcedureInvoker.onInvokeService(InitProcedureInvoker.java:42)
	at sun.reflect.GeneratedMethodAccessor1483.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:92)
	at uncertain.event.ReflectionMethodHandle.handleEvent(ReflectionMethodHandle.java:49)
	at uncertain.event.Configuration.fireEventInternal(Configuration.java:450)
	at uncertain.event.Configuration.fireEvent(Configuration.java:388)
	at uncertain.proc.ProcedureRunner.fireEvent(ProcedureRunner.java:352)
	at uncertain.proc.Action.run(Action.java:171)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.Switch.run(Switch.java:90)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:289)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:330)
	at uncertain.proc.Procedure.run(Procedure.java:101)
	at uncertain.proc.ProcedureRunner.run(ProcedureRunner.java:277)
	at aurora.service.ServiceInstance.invoke(ServiceInstance.java:133)
	at aurora.service.http.AbstractFacadeServlet.doService(AbstractFacadeServlet.java:158)
	at aurora.service.http.AbstractFacadeServlet.doPost(AbstractFacadeServlet.java:97)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:751)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:844)
	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)
	at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)
	at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)
	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:346)
	at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:243)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3432)
	at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3402)
	at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)
	at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)
	at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)
	at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2285)
	at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2201)
	at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2179)
	at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1572)
	at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:255)
	at weblogic.work.ExecuteThread.execute(ExecuteThread.java:311)
	at weblogic.work.ExecuteThread.run(ExecuteThread.java:263)


2018-10-12 07:15:12.680 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-12 07:15:12.681 [aurora.application.session_check] [CONFIG] Checking BM access eam.eam0610.eam0610_requisition_lines_query for operation query
2018-10-12 07:15:12.684 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker$ConstantChecker@442252e5 is true
2018-10-12 07:15:12.684 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-12 07:15:12.685 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-12 07:15:12.685 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-12 07:15:12.685 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-12 07:15:12.685 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-12 07:15:12.685 [aurora.database] [CONFIG] ===================================== prepare to run model-query eam.eam0610.eam0610_requisition_lines_query==============================
2018-10-12 07:15:12.691 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-12 07:15:12.691 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-12 07:15:12.691 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-12 07:15:12.691 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-12 07:15:12.691 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-12 07:15:12.691 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-12 07:15:12.691 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-12 07:15:12.691 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-12 07:15:12.776 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-12 07:15:12.776 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-12 07:15:12.787 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-12 07:15:12.787 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-12 07:15:12.787 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

            select * from (
            			SELECT h.asset_book_id,
            				   l.requisition_line_id,
                   			   l.requisition_header_id,
                   			   (select t.default_trx_type_id from eam_requisition_types t,eam_requisition_headers a where t.ast_requisition_type_id=a.ast_requisition_type_id and a.requisition_header_id=l.requisition_header_id) transaction_type_id,   
						       h.asset_id,
						       (SELECT t.accounting_flag
				          		  FROM eam_transaction_types t
				         		 WHERE l.transaction_type_id = t.transaction_type_id) AS accounting_flag,
						       l.line_number,
						       h.tag_number,
						       l.company_id,
						       l.unit_id,
						       l.employee_id,
						       l.position_id,
						       l.description,
						       h.description_id,
						       (SELECT fd.description_text
						          FROM fnd_descriptions fd
						         WHERE fd.description_id = h.description_id
						           AND LANGUAGE = ?) asset_name,
			                   h.using_unit_id,
			                   (select v.description
			                      from exp_org_unit_vl v
			                     where v.unit_id = h.using_unit_id) using_unit_desc,
			                   to_char(h.start_use_date, 'yyyy-mm-dd') start_use_date,
						       f.original_cost,
						       nvl(l.current_value,(f.current_cost - f.accumulated_dep_amt)) current_value,
						       to_char(l.retire_date, 'yyyy-mm-dd') retire_date,
						       l.from_cost current_cost,
						       l.expense_amount,
						       l.revenue_amount,
						       l.pl_amount,
						       l.retiremrnt_type,
						       (SELECT v.code_value_name FROM sys_code_values_v v WHERE v.code = 'RETIREMENT_TYPE' and v.code_value=l.retiremrnt_type) retiremrnt_type_desc,
						       to_char(l.dispose_date, 'yyyy-mm-dd') dispose_date,
			                   f.life_in_month,
			                   (f.life_in_month-f.remaining_life_in_month) used_month, 
			                   f.remaining_life_in_month,
			                   (SELECT decode(count(1),0,'N','Y') 
										  FROM eam_requisition_headers t1,
										       eam_requisition_lines   t2,
										       eam_asset_headers       t3
										 WHERE t1.requisition_status = 'CONFIRMED'
										   AND t1.asset_book_id = t3.asset_book_id
										   AND AST_REQUISITION_TYPE_ID =
										       (select rt.ast_requisition_type_id
										          from EAM_REQUISITION_TYPES rt
										         where rt.base_trx_category = 'REV'
										           and rt.ast_requisition_type_code = 'JZ001'
										           and rt.asset_book_id = t1.asset_book_id)
										   and t1.requisition_header_id = t2.requisition_header_id
										   and t2.asset_id = t3.asset_id
										   and t3.post_status = 'Y'
										   and t3.asset_book_id = (select asset_book_id from eam_asset_books b, fnd_companies f where b.set_of_book_id = f.set_of_books_id and f.company_id = ?)
										   and t3.tag_number = h.tag_number
                       	       ) readonlyflag1,
							   (select decode(count(1),0,'N','Y') from dual where exists (select 1 from eam_asset_categories eac where eac.category_id=h.category_id and eac.category_code=30)) readonlyflag2
			              FROM eam_asset_headers      h,
			                   eam_requisition_lines  l,
			                   eam_asset_finance_info f
			             WHERE h.asset_id = l.asset_id
			               and h.asset_id = f.asset_id
						   ) v
			      WHERE v.requisition_header_id = ?
						   
---------------------Binding info---------------------
No.1	Access path:/session/@lang	Data type of passed value :java.lang.String	Value:ZHS	Output:false	Database Type:null	
No.2	Access path:/session/@company_id	Data type of passed value :java.lang.Integer	Value:835	Output:false	Database Type:null	
No.3	Access path:@requisition_header_id	Data type of passed value :java.lang.String	Value:512	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-12 07:15:12.787 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse

2018-10-15 06:33:11.511 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-15 06:33:11.511 [aurora.application.session_check] [CONFIG] Checking BM access cont.con_contract_headers_add_pay_tab_query for operation query
2018-10-15 06:33:11.512 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker@1f5dc7fb is true
2018-10-15 06:33:11.512 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-15 06:33:11.513 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-15 06:33:11.513 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-15 06:33:11.513 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-15 06:33:11.513 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-15 06:33:11.513 [aurora.database] [CONFIG] ===================================== prepare to run model-query cont.con_contract_headers_add_pay_tab_query==============================
2018-10-15 06:33:11.517 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-15 06:33:11.517 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-15 06:33:11.517 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-15 06:33:11.517 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-15 06:33:11.517 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-15 06:33:11.517 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-15 06:33:11.517 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-15 06:33:11.517 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-15 06:33:11.630 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-15 06:33:11.631 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-15 06:33:11.683 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-15 06:33:11.683 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-15 06:33:11.683 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

                SELECT
                    T.*
                FROM
                    (SELECT
                        V.TRANSACTION_HEADER_ID,
                        V.TRANSACTION_HEADER_ID PAYMENT_HEADER_ID,
                        V.TRANSACTION_NUM,
                        V.TRANSACTION_DATE,
                        TO_CHAR(v.transaction_date,'YYYY-MM-DD') P_TRANSACTION_DATE,
                        V.CURRENCY_CODE,
                        (SELECT
                            NVL(SUM(b.transaction_amount), 0)
                        FROM
                            csh_transaction_lines b
                        WHERE
                            h.transaction_header_id = b.transaction_header_id
                        ) transaction_amount,
                        V.BANK_ACCOUNT_CODE,
                        V.BANK_ACCOUNT_NAME,
                        V.PARTNER_CATEGORY,
                        (SELECT
                            B.CODE_VALUE_NAME
                        FROM
                            SYS_CODES_VL A,
                            SYS_CODE_VALUES_VL B
                        WHERE
                            A.CODE_ID    = B.CODE_ID AND
                            A.CODE       = 'PAYMENT_OBJECT' AND
                            B.CODE_VALUE = V.PARTNER_CATEGORY
                        ) P_PARTNER_CATEGORY,
                        V.PARTNER_ID,
                        DECODE(V.PARTNER_CATEGORY, 'EMPLOYEE',
                        (SELECT
                            EE.EMPLOYEE_CODE
                            || '-'
                            || EE.NAME
                        FROM
                            EXP_EMPLOYEES EE
                        WHERE
                            EE.EMPLOYEE_ID = V.PARTNER_ID
                        ), 'VENDER',
                        (SELECT
                            SVV.VENDER_CODE
                            || '-'
                            || SVV.DESCRIPTION
                        FROM
                            PUR_SYSTEM_VENDERS_VL SVV
                        WHERE
                            SVV.VENDER_ID = V.PARTNER_ID
                        ), 'CUSTOMER',
                        (SELECT
                            SCV.CUSTOMER_CODE
                            || '-'
                            || SCV.DESCRIPTION
                        FROM
                            ORD_SYSTEM_CUSTOMERS_VL SCV
                        WHERE
                            SCV.CUSTOMER_ID = V.PARTNER_ID
                        )) PARENER_CODE_NAME,
                        V.DOCUMENT_NUM,
                        V.USER_NAME,
                        V.USER_DESC,
                        V.PAYMENT_METHOD_ID,
                        V.AGENT_NAME,
                        V.POSTED_FLAG,
                        (SELECT
                            b.code_value_name
                        FROM
                            sys_codes_vl a,
                            sys_code_values_vl b
                        WHERE
                            a.code_id   = b.code_id AND
                            a.code      ='CSH_REVERSE_SELECT' AND
                            b.code_value= v.REVERSED_FLAG
                        ) REVERSED,
                        (SELECT
                            b.code_value_name
                        FROM
                            sys_codes_vl a,
                            sys_code_values_vl b
                        WHERE
                            a.code_id   = b.code_id AND
                            a.code      ='CSH_RETURN_SELECT' AND
                            b.code_value=v.RETURNED_FLAG
                        ) RETURNED
                    FROM
                        CSH_TRANSACTION_V V,
                        csh_transaction_headers h,
                        csh_transaction_lines l
                    WHERE
                        h.transaction_header_id = v.transaction_header_id AND
                        (
                            (
                                nvl(h.reversed_flag,'-')        != 'R' AND
                                h.transaction_header_id = l.transaction_header_id OR
                                h.source_header_id      = l.transaction_header_id
                            )
                            OR
                            (
                                (
                                    h.reversed_flag = 'R' AND
                                    EXISTS
                                    (SELECT
                                        1
                                    FROM
                                        csh_transaction_headers h2
                                    WHERE
                                        h2.transaction_header_id = h.source_header_id AND
                                        h2.source_header_id      = l.transaction_header_id
                                    )
                                )
                            )
                        )
                        AND
                        l.transaction_line_id IN
                        (SELECT
                            a.csh_transaction_line_id
                        FROM
                            con_cash_trx_pmt_schedule_lns a
                        WHERE
                            a.contract_header_id = ?
                        )
                    ) T
            
---------------------Binding info---------------------
No.1	Access path:/parameter/@contract_header_id	Data type of passed value :java.lang.String	Value:3	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-15 06:33:11.683 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse

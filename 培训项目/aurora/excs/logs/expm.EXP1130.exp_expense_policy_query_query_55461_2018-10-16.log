2018-10-16 02:21:38.326 [aurora.application.session_check] [CONFIG] Session data copied to context
2018-10-16 02:21:38.326 [aurora.application.session_check] [CONFIG] Checking BM access expm.EXP1130.exp_expense_policy_query for operation query
2018-10-16 02:21:38.328 [aurora.application.session_check] [CONFIG] Result from aurora.bm.DefaultAccessChecker@5b68d06e is true
2018-10-16 02:21:38.328 [uncertain.proc] [CONFIG] [action] AccessCheck
2018-10-16 02:21:38.330 [uncertain.proc] [CONFIG] [action] CheckServiceLock
2018-10-16 02:21:38.330 [uncertain.proc] [CONFIG] [action] ParseParameter
2018-10-16 02:21:38.330 [uncertain.proc] [CONFIG] [action] ValidateInput
2018-10-16 02:21:38.330 [uncertain.proc] [CONFIG] [action] InvokeService
2018-10-16 02:21:38.330 [aurora.database] [CONFIG] ===================================== prepare to run model-query expm.EXP1130.exp_expense_policy_query==============================
2018-10-16 02:21:38.336 [uncertain.proc] [CONFIG] [action] DecideSqlGenerationMode
2018-10-16 02:21:38.336 [uncertain.proc] [FINE] aurora.database.service.BusinessModelService.onDecideSqlGenerationMode
2018-10-16 02:21:38.336 [uncertain.proc] [CONFIG] [action] CreateOperationSql
2018-10-16 02:21:38.336 [uncertain.proc] [CONFIG] [action] PopulateOperationSql
2018-10-16 02:21:38.336 [uncertain.proc] [FINE] aurora.database.features.OrderByClauseCreator.onPopulateOperationSql
2018-10-16 02:21:38.336 [uncertain.proc] [FINE] aurora.database.features.WhereClauseCreator.onPopulateOperationSql
2018-10-16 02:21:38.336 [uncertain.proc] [CONFIG] [action] ExecuteQuery
2018-10-16 02:21:38.336 [uncertain.proc] [FINE] aurora.bm.QuerySqlCreator.onExecuteQuery
2018-10-16 02:21:38.565 [uncertain.proc] [CONFIG] [action] QueryFinish
2018-10-16 02:21:38.565 [uncertain.proc] [FINE] aurora.database.features.AutoQueryCounter.onQueryFinish
2018-10-16 02:21:38.700 [uncertain.proc] [CONFIG] [action] FetchResultSet
2018-10-16 02:21:38.700 [uncertain.proc] [FINE] aurora.database.features.CacheBasedLookUpField.postFetchResultSet
2018-10-16 02:21:38.700 [aurora.database] [CONFIG] 
============= BEGIN [query] SQL Statement execution dump ============

                SELECT
                    *
                FROM
                    (SELECT
                        t.expense_policies_id,
                        t.priority,
                        t.company_level_id,
                        f.company_level_code,
                        f.description company_level_desc,
                        t.expense_item_id ,
                        v.expense_item_code ,
                        v.description expense_item_desc,
                        v.set_of_books_id,
                        t.expense_address,
                        t.job_id,
                        e.employee_job_code,
                        e.employee_job_id,
                        e.employee_job_code
                        ||DECODE(e.description,NULL,NULL,'-'
                        ||e.description) job_desc,
                        t.position_id,
                        eo.position_code,
                        eo.description
                        ||' '
                        ||eo.position_code
                        ||' '
                        ||
                        (SELECT
                            c.company_short_name
                        FROM
                            fnd_companies_vl c
                        WHERE
                            c.company_id=eo.company_id
                        ) position_desc,
                        t.employee_levels_id,
                        ee.employee_levels_code,
                        ee.employee_levels_code
                        ||DECODE(ee.description,NULL,NULL,'-'
                        ||ee.description) employee_levels_desc,
                        t.default_flag default_flag_code,
                        DECODE(t.default_flag,'Y','是','否') default_flag,
                        t.currency_code currency_code_id,
                        (SELECT
                            v.currency_name name
                        FROM
                            gld_currency_vl v
                        WHERE
                            v.currency_code=t.currency_code
                        ) currency_code,
                        t.expense_standard,
                        t.upper_limit,
                        t.lower_limit,
                        t.changeable_flag AS yes_no_code,
                        DECODE(t.changeable_flag,'Y','是','否') yes_no,
                        t.start_date,
                        t.end_date,
                        t.commit_flag commit_flag_code,
                        DECODE(t.commit_flag,'Y','是','否') commit_flag,
                        t.event_name event_name_code,
                        t.upper_std_event_name upper_std_event_name_code,
                        (SELECT
                            et.event_desc
                        FROM
                            evt_event et
                        WHERE
                            et.event_name = t.upper_std_event_name
                        ) upper_std_event_name,
                        (SELECT et.event_desc FROM evt_event et WHERE et.event_name = t.event_name
                        ) event_name,
                        t.place_type_id,
                        (SELECT
                            pt.description
                        FROM
                            exp_policy_place_types_vl pt
                        WHERE
                            pt.place_type_id = t.place_type_id
                        ) place_type,
                        t.place_id,
                        (SELECT
                            p.place_desc
                        FROM
                            exp_policy_places_vl p
                        WHERE
                            p.place_id = t.place_id
                        ) place,
                        t.transportation,
                        (SELECT
                            vt.code_value_name
                        FROM
                            sys_code_values_vl vt,
                            sys_codes sc
                        WHERE
                            sc.code       = 'TRANSPORTATION' AND
                            vt.code_id    = sc.code_id AND
                            vt.code_value = t.transportation
                        ) transportation_desc,
                        t.control_type_code,
                        (
                        	select scv.code_value_name
							from sys_code_values_v scv
							where scv.code = 'WLZQ_EXPENSE_CONTROL_TYPE'
							and scv.code_value = t.control_type_code
                        ) control_type_name,
                        (
				        select eou.DESCRIPTION
				        from exp_org_unit_vl eou
				        where eou.UNIT_ID = t.level1_unit_id
				       ) level1_unit_name,
				       t.description
                    FROM
                        exp_expense_policies t,
                        fnd_company_levels_vl f,
                        exp_expense_items_vl v,
                        exp_employee_jobs_vl e,
                        exp_employee_levels_vl ee,
                        exp_org_position_vl eo
                    WHERE
                        t.company_level_id    = f.company_level_id(+) AND
                        t.expense_item_id     = v.expense_item_id (+) AND
                        t.job_id              = e.employee_job_id(+) AND
                        t.position_id         = eo.position_id(+) AND
                        t.employee_levels_id  = ee.employee_levels_id(+) AND
                        t.expense_policies_id = NVL(NULL, t.expense_policies_id )
                    ) a  WHERE a.set_of_books_id=?
                    order by to_number(a.priority)
            
---------------------Binding info---------------------
No.1	Access path:@set_of_books_id	Data type of passed value :java.lang.Long	Value:122	Output:false	Database Type:null	

=============== END [query] SQL Statement execution dump ============

2018-10-16 02:21:38.700 [uncertain.proc] [CONFIG] [action] CreateSuccessResponse
